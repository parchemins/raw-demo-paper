\documentclass{beamer}
\usetheme{metropolis}

\newcommand{\TITLE}{D-27\\RAW-JENA: Approximate Query Processing for SPARQL Endpoints}
\author{Julien Aimonier-Davat, Minh-Hoang Dang, Pascal Molli, Brice NÃ©delec, and Hala Skaf-Molli}

\setbeamertemplate{frame numbering}[none]
\setbeamersize{text margin left=0pt,text margin right=0pt} 

\usepackage{epstopdf,epsfig}
\usetikzlibrary{arrows.meta}
\tikzset{>={Latex[width=2mm,length=2mm]}}


\begin{document}

\newcommand{\X}{10}
\newcommand{\Y}{5}
\newcommand{\FIGUREWIDTH}{0.2\textwidth}

\begin{frame}{\centering\TITLE}

  \vspace{1em}
  \begin{center}
  \begin{tikzpicture}[scale=0.35, every node/.style={scale=0.95}]
    \tiny
    \draw (0,\Y) node (title_query) {\textbf{An awesome SPARQL query!}};
    \draw (title_query.south west) node (request) [anchor=north west,align=left, font=\ttfamily\tiny] {
      SELECT * WHERE \{\\~~~?x1 wdt:P641 wd:Q3609 .\\~~~?x1 wdt:P17 ?x3 .\\~~~?x3 wdt:P361 wd:Q27611 .\\\}};
    
    \draw (0,-\Y) node (title_query_bot) {\textbf{An awesome SPARQL query!}};
    \draw (title_query_bot.south west) node (request_bot) [anchor=north west,align=left, font=\ttfamily\tiny] {
      SELECT * WHERE \{\\~~~?x1 wdt:P641 wd:Q3609 .\\~~~?x1 wdt:P17 ?x3 .\\~~~?x3 wdt:P361 wd:Q27611 .\\\}};


    
    \draw (\X, \Y) node (public_endpoint) {\textbf{Public SPARQL Endpoint}};
    \draw (public_endpoint.south) node [anchor=north] (wikidata) {\includegraphics[width=\FIGUREWIDTH]{logos/wikidata.eps}};

    \draw (2*\X, \Y) node (timeout) {\textbf{TIME OUT :(}};
    \draw (timeout.south) node [anchor=north] (sad) {\includegraphics[width=\FIGUREWIDTH]{images/sad.eps}};


    \draw  (\X, -\Y) node (saqp) {\textbf{Approximate Query Processing}};
    \draw  (saqp.south) node [anchor=north,align=center] (raw) {\includegraphics[width=\FIGUREWIDTH]{images/qr-code.png}\\\normalsize \textbf{RAW-JENA}};
    
    \draw  (2*\X, -\Y) node (results) {\textbf{Online Sample :)}};
    \draw  (results.south) node [anchor=north, align=left] (raw) {?x1 -> A, ?x3 -> brazil\\?x1 -> B, ?x3 -> equador\\?x1 -> C, ?x3 -> equador\\\\cardinality $\approx 15 \pm 5$};


    \draw (3*\X, -\Y) node (aggregated_query) {\textbf{Aggregation queries}};
    \draw (aggregated_query.south west) node [anchor=north west] (join_ordering) {\textbf{Join order}};
    \draw (join_ordering.south west) node [anchor=north west] (embeddings) {\textbf{Embeddings}};
    \draw (embeddings.south west) node [anchor=north west] (summaries) {\textbf{Summaries}};
    \draw (summaries.south west) node [anchor=north west] (exploratory) {\textbf{Exploratory queries}};
    
    \draw[->] (title_query.east) -- (public_endpoint.west);
    \draw[->] (title_query_bot.east) -- (saqp.west);

    \draw[->] (public_endpoint.east) -- (timeout.west);
    \draw[<->] (saqp.east) -- (results.west);

    \draw [->] (results.east) -- (aggregated_query.west);
    \draw [->] (results.east) -- (join_ordering.west);
    \draw [->] (results.east) -- (embeddings.west);
    \draw [->] (results.east) -- (summaries.west);
    \draw [->] (results.east) -- (exploratory.west);
    
  \end{tikzpicture}
  \end{center}
  
\end{frame}

\end{document}
